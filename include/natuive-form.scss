/* natUIve  – Form */

@import 'natuive-setup';

input[type=submit], label, form .checkbox span, form label > span {
	
	font-size: $font-size;
	line-height: $line-height;
	min-height: $line-height;

}

input[type=submit], form button, input[type=submit], form .file-input, form .file-input span {
	
	line-height: $line-height * 2;
	min-height: $line-height * 2;
	
}

	input[type=submit] {
		
		height: auto;
		line-height: $line-height;
		white-space: normal;
		word-break: break-all;
		margin-bottom: $line-height - 2px; /* fix for the failed box-sizing: border-box */
		min-height: $line-height*2 + 2px;
		
	}

form {
	
	overflow: hidden;
	padding-top: 22px;

}

	form > * {
		
		clear: both;
	
	}
	
	form span { /* When used as a wrapper for inline checkboxes */
		
		display: inline-block;
		vertical-align: middle;

	}

	header form {
		
		display: inline-block;
		vertical-align: middle;

	}

	#content form {
		
		padding-top: $line-height;

	}

	label {
		
		display: inline-block;
		font-weight: bold;
		max-width: 100%;
		position: relative;
		padding: 0;
		margin: 0 0 $line-height 0;
		width: 100%;
		float: left;

	}
	
	[dir=rtl] label {
		
		float: right;

	}
	
	label span {
		
		text-align: end;
		
	}
	
	form .checkbox {
	
		clear: both;
		min-height: $line-height;
		margin-bottom: $line-height;

	}

	form .checkbox:after {
		
		content: '';
		display: block;
		clear: both;

	}
		
	input, select, textarea, input[type=search], form button {
		
		font-family: inherit;
		display: inline-block;
		overflow: hidden;
		resize: none;
		vertical-align: top;
		border-radius: 0;
		padding: 0 $line-height/2;
		min-height: $line-height*2;
		border: 0;
		background: #eee;
		font-size: 1em;
		margin: 0 0 $line-height/2 0;
		width: 100%;
		float: right;
		outline: none;
		border: 1px dotted transparent;

	}

		[dir=rtl] input, [dir=rtl] select, [dir=rtl] textarea, [dir=rtl] input[type=search], [dir=rtl] form button {
			
			float: left;
	
		}
	
		label > input {
			
			margin-top: -$line-height/2;
		
		}
		
		input[type=text], input[type=email], input[type=url] {
			
			padding-top: 1px;

		}
		
		label input, label textarea, label input[type=search], label button {
			
			width: 50%;
	
		}

		input:focus, select:focus, textarea:focus {
			
			border-color: #bbb;
			
		}


	form .checkbox span {
		
		display: inline-block;
		font-weight: bold;
		text-align: end;
		width: 50%;
		float: left;
		margin-top: 0;
		padding-right: 3%;
		cursor: default;

	}
	
	[dir=rtl] form .checkbox span {
		
		float: right;
		padding-right: 0;
		padding-left: 3%;

	}
	
	form input[type=submit], form button {
		
		margin-right: 0;
		min-width: 50%;
		max-width: 100%;
		padding: 0 1em;
		margin-top: 0;
		
	}
	
	header form noscript input[type=submit] {
		
		margin: 0;
		padding: 0;
		min-width: 0;
		min-height: 1em;

	}
	
	textarea {
		
		margin: -$line-height/2 0 $line-height/2 0;
		border-bottom: 1px dotted transparent;
		min-height: $line-height*3;
		padding-top: .85em;

	}
	
	form > label span {
		
		position: relative;
		display: inline-block;
		width: 50%;
		padding: 0 3% 0 0;
		float: left;		

	}
	
	[dir=rtl] form > label span {
		
		float: right;
		padding: 0 0 0 3%;

	}
	
	form .checkbox label span {
		
		width: auto;

	}
	
	form .mandatory span.checkbox:before, form .mandatory span.tip:after, select::-ms-expand {
	
		display: none;
		
	}

	form .mandatory {
		
		position: relative;
		
	}

	form .mandatory:before {
		
		content: '*';
		color: #a00;
		position: absolute;
		left: 47.5%;
		top: 0;
		font-weight: bold;
		
	}

	[dir=rtl] form .mandatory:before {

		right: 47.5%;
		left: auto;

	}
	
	form .mandatory.alert span, form .mandatory.alert p {
		
		background: #666;
		color: #eee;
		
	}

	form .mandatory.alert span.checkbox {
		
		background: transparent;
		color: #555;
		
	}

	form .mandatory.alert span.tip {
		
		background: #222;
		
	}
	
	form select {
		
		-moz-appearance: none;
		text-indent: 0.01px;
		text-overflow: '';
		width: 45%;
		margin-top: 0;
		min-height: 0;
		width: 100%;
		background: transparent;
		text-indent: 0px;
		padding: 1px 1.6em 0 .7em;
		float: none;
		height: $line-height*2;
		white-space: nowrap;
		-webkit-appearance: none;
		appearance: none;
		font-family: inherit;
	    text-indent: -1px;
	    text-overflow: '';	
	    margin: 0;
		
	}

	form select, form .file-input {

		width: 50%;
		background: #eee;
		padding: 0;
		vertical-align: top;
		border: none;
		height: $line-height/2;
		overflow: hidden;
		margin-left: 0;

	}
	
	form select {
		
		padding-top: 0;
		height: $line-height*2;
		margin: -$line-height/2 0 $line-height/2 0;
		background: #eee url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAAG0lEQVR42mNgwAfKy8v/48I4FeA0AacVDFQBAP9wJkE/KhUMAAAAAElFTkSuQmCC") no-repeat calc(100% - 1em) 50%;
		padding-left: .8em;
		text-indent: 1px;
		
	}
	
	[dir=rtl] form select {
		
		background-position: 1em 50%;
		padding-left: 0;
		padding-right: .8em;

	}
	
	form select option {
		
		padding: 0;

	}
	
	header form select {
		
		width: 100%;
		display: inline-block;
		margin: 0;

	}
	
	select:hover {
		
		cursor: pointer;
		
	}

	.checkbox label {
		
		text-align: start;
		width: 50%;
		font-weight: normal;
		float: right;
		clear: right;
		margin: 0;
		cursor: pointer;
		padding-left: 1.5em;
		
	}
	
	[dir=rtl] .checkbox label {
		
		float: left;
		clear: left;
		
	}
	
	form.flat {
		
		padding-top: 0;
		
	}
	
	form.flat .checkbox label:first-of-type { /* To do: not needed when checkboxes are inline */
		
		margin-top: $line-height;
		
	}

	:root form .checkbox label { /* Not IE9 */

		padding-left: 0;

	}
	
	form .checkbox label + label {
		
		margin-top: 0; 

	}

	form .checkbox label:last-child {
		
		margin-bottom: $line-height;

	}
	
	.checkbox-icon {
		
		width: 1em;
		height: 1em;
		display: inline-block;
		background: #eee;
		margin-top: 0;
		line-height: ($line-height + 1)*(2/3);
		font-size: ($line-height - 2)*(2/3);
		text-align: center;
		color: #333;
		margin-right: .5em;
		display: none;
		border: 1px dotted transparent;
		border: none;

	}

	:root .checkbox-icon { /* Not IE8 */

		display: inline-block;

	}

	input[type=checkbox], input[type=radio] {
		
		-webkit-appearance: none;
		-moz-appearance: window;
		-ms-appearance: none;
		position: absolute;
		background: transparent;
		cursor: pointer;
		opacity: 0;
		padding: 0;
		border: 1px dotted transparent;
		left: 0;
		outline: none;
		float: left;
		width: auto;
		min-height: 0;
		opacity: 0;
		margin: 0 .5em 0 -1.5em;

	}

	input[type=checkbox], input[type=radio] {
		
		float: right;

	}
	
	input[type=checkbox]:checked + .checkbox-icon:before {
		
		content: '✓';

	}

	input[type=radio] + .checkbox-icon {
		
		border-radius: 50%;
		position: relative;

	}

	input[type=radio]:checked + .checkbox-icon:before {
		
		content: '';
		position: absolute;
		background: #333;
		top: 25%;
		right: 25%;
		bottom: 25%;
		left: 25%;
		border-radius: 50%;

	}

	input[type=checkbox]:focus + .checkbox-icon, input[type=radio]:focus + .checkbox-icon {
		
		border: 1px dotted #666;

	}

	input[type=file] {
		
		position: absolute;
		left: 0;
		width: 100%;
		margin: 0;
		padding: 0;
		cursor: pointer;
		z-index: 1;
		text-indent: -100%;
		top: 0;
		bottom: 0;
		background: transparent;
		padding-left: 200%;
		font-size: 0;

	}
	
	@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) { /* IE10 */
	
		input[type=file] {
			
			margin-left: -100%;

		}
	
	}
	
	form .file-input {

		font-weight: normal;
		background: #eee;
		margin: -$line-height/2 0 $line-height/2 0;
		cursor: pointer;
		font-style: italic;
		
	}

	form .file-input span {

		text-align: start;
		white-space: nowrap;
		padding: 0 0 0 .8em;
		background: #eee;
		z-index: 0;
		margin: 0;
		width: 100%;
		border: 1px dotted transparent;

	}
	
	[dir=rtl] form .file-input span {

		padding: 0 .8em 0 0;

	}
	
	input[type=file]:focus + span {
		
		border-color: #bbb;

	}

	input[type=search] {
	
	    -webkit-appearance: textfield;
	    border-radius: 0;
	
	}
	
	input[type=search]::-webkit-search-decoration,
	input[type=search]::-webkit-search-cancel-button {
	
	    -webkit-appearance: none;
	
	}

	form.flat label, form.flat label span, form.flat .checkbox span {
		
		margin: 0;
		display: block;
		width: 100%;
		text-align: start;
		
	}
	
	form.flat input, form.flat textarea, form.flat select {
		
		display: block;
		width: 100%;
		margin-top: $line-height/2;
		
	}
	
	form.flat input[type=file] {
		
		margin-top: 0;

	}

	form.flat select, form.flat .file-input {
		
		margin: $line-height/2 0;

	}
	
	form.flat input[type=submit] {
		
		width: auto;
		min-width: 0;
		padding: 0 1em;
		margin-top: $line-height/2;

	}
	
	form.flat .mandatory:before {
		
		left: auto;
		right: 0;

	}
	
	form.flat .checkbox label:last-child {
		
		margin-bottom: 0;
		
	}
	
	form.flat input[type=checkbox], form.flat input[type=radio] {
		
		width: auto;
		margin-top: 0;
		
	}
	
	form.flat input[type=submit] {
		
		margin-top: $line-height;

	}

	@-moz-document url-prefix() {

		form select { padding-left: 0; text-indent: .3em; }
		form select option { padding: 0; }
		input::-moz-focus-inner,
		button::-moz-focus-inner {
		  padding: 0;
		  border: 0;
		}
		input[type=text], input[type=email], input[type=url] { padding-top: 0; }
		form .file-input span { margin-top: -1px; }
		input[type=file], form.flat input[type=file] { padding-left: 100%; margin-top: -$line-height; }

	}

@media screen and (max-width: $screen-narrow) {
	
	label, form.flat label {

		text-align: start;
		margin: $line-height/2 0 0 0;

	}
		form.flat .checkbox label:first-of-type {
			
			margin-top: $line-height/2;

		}
	
		label span, form > label span {
			
			padding: $line-height/2 0;
			width: 100%;
			text-align: start;
			
		}
		
		form .mandatory.alert > span {
			
			padding: $line-height/2;
			
		}
		
		form .mandatory.alert > span.checkbox {
			
			padding: $line-height/2 0;

		}
		
		form .mandatory:before {
			
			right: 0;
			left: auto;
			top: .7em;
			
		}

		label select, label input, textarea, form .file-input {
			
			width: 100%;
			margin: 0;
				
		}
	
		label select, input[type=submit], form label textarea, form.flat input[type=submit] {
	
			width: 100%;

		}
		
		form input[type=submit], form .checkbox span, form.flat .checkbox span {
			
			margin-top: $line-height;
		
		}
				
		select {
			
			padding: 0 1.3em 0 .7em;
			margin-bottom: 0;
			
		}
		
		form label span .tip {
			
			visibility: hidden;
			
		}
		
		form .checkbox span, .checkbox label, form .checkbox span {
			
			display: block;
			width: 100%;
			text-align: start;

		}

		form .checkbox span {
			
			margin-bottom: $line-height/2;
			
		}
		
		.checkbox label, form.flat input, form.flat textarea, form.flat select, form.flat span.file-input {
		
			margin-top: 0;

		}
		
		input[type=radio] {
			
			margin-left: 2px;
			
		}

		form .mandatory span.tool:after, form .mandatory p.tool:after {
			
			right: 0;
			
		}
		
		.checkbox label:last-child, form.flat span.file-input, form .checkbox, form.flat .checkbox, form .checkbox label:last-child, form.flat select {
			
			margin-bottom: 0;

		}
		
		form, form .checkbox {
			
			padding-top: 0;

		}
		
		form.flat span.file-input span {
			
			margin-top: 0;
			height: $line-height*2;
			
		}

}

function addClass(b,a){if(b.classList){b.classList.add(a)}else{b.className+=" "+a}}function removeClass(b,a){if(b.classList){b.classList.remove(a)}else{b.className=b.className.replace(new RegExp("(^|\\b)"+a.split(" ").join("|")+"(\\b|$)","gi")," ")}}function hasClass(b,a){if(b.classList){return b.classList.contains(a)}else{return new RegExp("(^| )"+a+"( |$)","gi").test(b.className)}}function toggleClass(b,a){if(hasClass(b,a)){removeClass(b,a)}else{addClass(b,a)}}function eventElement(a){a=a||window.event;return a.target||a.srcElement}var parseHTML=function(a){tmp=document.implementation.createHTMLDocument("Parsed");tmp.body.innerHTML=a;return tmp.body};function forEach(a,c){elements=(typeof a=="string")?document.querySelectorAll(a):a;for(var b=0;b<elements.length;b++){c(elements[b],b)}}function addEventHandler(c,a,b){if(c.addEventListener){c.addEventListener(a,b,false)}else{if(c.attachEvent){c.attachEvent("on"+a,b)}}}function stopEvent(a){if(!a){var a=window.event;if(typeof a=="undefined"){return}}a.cancelBubble=true;a.returnValue=false;if(a.stopPropagation){a.stopPropagation()}if(a.preventDefault){a.preventDefault()}return false}function thisIndex(c){if(!c){return}var a=c.parentNode.childNodes,d;var b=count=0;while((d=a.item(b++))&&d!=c){if(d.nodeType==1){count++}}return(count)}function parentByClass(b,a){while(b.parentNode&&!hasClass(b,a)){b=b.parentNode}if(hasClass(b,a)){return b}else{return null}}forEach("table",function(b,a){b.insertAdjacentHTML("beforebegin",'<div class="table">'+b.outerHTML+"</div>");b.outerHTML=""});function updateURLParameter(b,d,g){var j="";var f=b.split("?");var c=f[0];var e=f[1];var h="";if(e){f=e.split("&");for(i=0;i<f.length;i++){if(f[i].split("=")[0]!=d){j+=h+f[i];h="&"}}}var a=h+""+d+"="+g;return c+"?"+j+a}function getURLParameters(){var a={},b=/[?&]([^?&]+)=([^?&]+)/g;location.href.replace(b,function(e,d,c){a[d]=c});return a}var parameters_list=new Array("parameter1","parameter2");function relayParameters(){parameters=getURLParameters();forEach("a[href]",function(c,b){for(var a in parameters){if(parameters_list.indexOf(a)==-1){continue}if(!c.href.indexOf("javascript")||(!c.href.indexOf("mailto"))){continue}var d=c.href.split("#")[1]?("#"+c.href.split("#")[1]):"";c.href=updateURLParameter(c.href.split("#")[0],a,parameters[a])+d}})}Math.easeInOutQuad=function(e,a,g,f){e/=f/2;if(e<1){return g/2*e*e+a}e--;return -g/2*(e*(e-2)-1)+a};var requestAnimFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1000/60)}})();function scrollTo(c,b){start=document.documentElement.scrollTop||document.body.scrollTop,change=c-start,currentTime=0,increment=20;var a=function(){currentTime+=increment;var d=Math.easeInOutQuad(currentTime,start,change,400);document.documentElement.scrollTop=document.body.scrollTop=d;if(currentTime<400){requestAnimFrame(a)}else{if(b&&typeof(b)==="function"){b()}}};a()}function removeBlackbox(){var a=document.getElementById("blackbox");if(a){if(a.querySelector(".slider")){removeClass(a.querySelector(".slider"),"slider");var b=document.querySelector(".slider")}document.body.removeChild(a)}removeClass(document.querySelector("html"),"nooverflow")}function modalWindow(d){el=eventElement(d);if(parentByClass(el,"modal")&&!(new XMLHttpRequest().upload)){el=parentByClass(el,"modal");window.open(el.href,"_blank");return false}document.body.onkeyup=function(f){f=f||window.event;if(f.keyCode==27){removeBlackbox()}};document.body.insertAdjacentHTML("afterbegin",'<div id="blackbox"> </div>');addClass(document.querySelector("html"),"nooverflow");if(typeof d=="string"){document.getElementById("blackbox").innerHTML='<div class="close"> ← '+document.title+"</div>"+d+'<div id="blackbox-bg"></div>';document.getElementById("blackbox-bg").onclick=document.querySelector("#blackbox .close").onclick=removeBlackbox;return false}if(parentByClass(el,"modal")){el=parentByClass(el,"modal");request=new XMLHttpRequest();request.open("GET",el.href.split("#")[0],true);request.onload=function(){if(request.status>=200&&request.status<400){container=(typeof el.href.split("#")[1]!="undefined")?("#"+el.href.split("#")[1]):0;blackbox=document.getElementById("blackbox");blackbox.insertAdjacentHTML("afterbegin",'<div class="close"> ← '+document.title+"</div>");if(container){parsed=parseHTML(request.responseText);if(!parsed.querySelector(container)){removeBlackbox();return false}blackbox.insertAdjacentHTML("beforeend",parsed.querySelector(container).innerHTML)}else{blackbox.insertAdjacentHTML("beforeend",request.responseText)}blackbox.querySelector(".close").onclick=removeBlackbox;relayParameters()}else{removeBlackbox()}};request.onerror=function(){removeBlackbox()};request.send();return false}document.getElementById("blackbox").innerHTML='<div class="close"> ← '+document.title+'</div><div class="slider lightbox"></div><div id="blackbox-bg"></div>';var b=parentByClass(el,"lightbox");images="";forEach(b.querySelectorAll("a[href]"),function(e){images+='<div><img src="'+e.href+'" alt="'+e.title+'"><p>'+e.title+"</p></div>"
});document.querySelector(".slider.lightbox").innerHTML=images;if(makeSlider){var a=el.parentNode;while(typeof a.href=="undefined"){a=a.parentNode}var c=makeSlider(document.querySelector("#blackbox .slider"),thisIndex(a))}document.getElementById("blackbox-bg").onclick=document.querySelector("#blackbox .close").onclick=removeBlackbox;return false}relayParameters();forEach(".tool",function(b,a){t=b.querySelector(".tip");if(!t){return}b.style.position="static";b.parentNode.style.position="relative";t.style.top=(t.parentNode.offsetTop+t.parentNode.offsetHeight)+"px";t.style.width="100%"});document.querySelector(document.querySelector("#footer > div > div")?"#footer > div > div":"body").insertAdjacentHTML("beforeend",'<a class="backtotop" href="#"> ↑ </a>');var getCumulativeOffset=function(c){var b,a;b=a=0;if(c.offsetParent){do{b+=c.offsetLeft;a+=c.offsetTop}while(c=c.offsetParent)}return{x:b,y:a}};function animateAnchors(b){b=b||window.event;if(typeof b=="undefined"){return}var a=b.target||b.srcElement;hash=document.getElementById(a.href.split("#")[1]);document.querySelector("#nav-trigger").checked=false;removeClass(document.querySelector(".nav-main > div"),"open");removeClass(document.querySelector("body"),"semi-transparent");scrollTo((hash==null)?0:getCumulativeOffset(hash).y,function(c){window.location=a.href});return false}forEach('a[href*="#"]',function(b,a){b.onclick=animateAnchors});forEach("a.modal, .lightbox a",function(b,a){b.onclick=modalWindow});forEach("textarea",function(b,a){b.onkeyup=function(c){b=eventElement(c);while(b.rows>1&&b.scrollHeight<b.offsetHeight){b.rows--}while(b.scrollHeight>b.offsetHeight){if(b.rows>20){break}b.rows++}b.rows++}});function submitForm(a){el=eventElement(a);ready_to_submit=true;forEach(el.querySelectorAll(".mandatory"),function(c,b){if((c.querySelector("input, select, textarea")&&!c.querySelector("input, select, textarea").value)||(c.querySelector('input[type="checkbox"]')&&!c.querySelector('input[type="checkbox"]').checked)||(c.querySelector('input[type="radio"]')&&!c.querySelector('input[type="radio"]').checked)){ready_to_submit=false;c.querySelector("input").focus();addClass(c,"alert");return}else{removeClass(c,"alert")}});if(!ready_to_submit){scrollTo(el.offsetTop+el.parentNode.offsetTop)}return ready_to_submit}forEach("form",function(b,a){b.onsubmit=b.onsubmit||submitForm});function updateFileInput(a){el=eventElement(a);el.parentNode.querySelector("span").innerHTML=el.value.substring(el.value.lastIndexOf("\\")+1)}forEach('input[type="file"]',function(b,a){b.onchange=updateFileInput});if(document.getElementById("language-selector")){document.querySelector("#language-selector select").onchange=function(a){document.getElementById("language-selector").submit()}}function toggleAccordion(a){el=eventElement(a);stopEvent(a);el=el.parentNode;toggleClass(el,"open");el.querySelector("div").style.maxHeight=((el.querySelector("div").style.maxHeight=="")?(el.querySelector("div").scrollHeight+"px"):"");if(hasClass(el.parentNode.parentNode,"accordion")){el.parentNode.style.maxHeight=el.querySelector("div").scrollHeight+el.parentNode.scrollHeight+"px"}return false}forEach(".accordion > label",function(b,a){b.onclick=toggleAccordion;b=b.parentNode;if(b.querySelector("input.trigger")){b.querySelector("input.trigger").outerHTML=""}b.querySelector("div").onclick=function(c){c=c||window.event;c.cancelBubble=true}});if("ontouchstart" in window){document.body.insertAdjacentHTML("beforeend","<style> a[href]:hover { color: inherit; } .tool:hover .tip { display: none; } </style>")}document.getElementById("nav-trigger").onchange=function(a){toggleClass(document.querySelector("body"),"semi-transparent")};addEventHandler(window,"load",function(){var a=22;forEach("#content img",function(b){extra_padding=((Math.round(b.height/a)+1)*a-b.height);if(extra_padding>=a){extra_padding-=a}b.style.paddingBottom=extra_padding+"px"})});var new_event_support=1;try{var test_event=new Event("test")}catch(err){new_event_support=0}function sliderElement(a){el=eventElement(a);if(hasClass(el,"slider-container")){el=el.querySelector(".slider")}else{while(!hasClass(el,"slider")){el=el.parentNode}}return el}var lastAnimation=0;swipeEvents=function(d){var b,a;d.addEventListener("touchstart",c);function c(g){var f=g.touches;if(f&&f.length){b=f[0].pageX;a=f[0].pageY;d.addEventListener("touchmove",e)}}function e(k){var j=k.touches;if(j&&j.length){var g=b-j[0].pageX;var f=a-j[0].pageY;if((Math.abs(g)<Math.abs(f))&&!document.querySelector(".slider.lightbox")){return}k.preventDefault();if(g>=50){if(new_event_support){var h=new Event("swipeLeft");d.dispatchEvent(h)}else{initScroll(k,-1*g)}}if(g<=-50){if(new_event_support){var h=new Event("swipeRight");d.dispatchEvent(h)}else{initScroll(k,-1*g)}}if(Math.abs(g)>=50||Math.abs(f)>=50){d.removeEventListener("touchmove",e)}}}};initScroll=function(d,e){var b=e,a=new Date().getTime();if((a-lastAnimation)<800){d.preventDefault();return}var c=sliderElement(d);slide(c,(b<0)?"right":"left");
lastAnimation=a};mouseWheelHandler=function(a){var b=(a.deltaX*-10)||a.wheelDeltaX||-a.detail;if(Math.abs(b)<50){return}a.preventDefault();initScroll(a,b)};function mouseEvents(b,a){if(!("onwheel" in window)){return}if(a=="off"){b.parentNode.removeEventListener("wheel",mouseWheelHandler)}else{b.parentNode.addEventListener("wheel",mouseWheelHandler)}}function slide(d,g){if(window.sliderTimeout){clearTimeout(window.sliderTimeout)}d=d||window.event;if(typeof d=="undefined"){return}stopEvent(d);el=d.srcElement||d.target;if(typeof el=="undefined"){el=d}var a=0,c=0;if(g=="index"){c=el.parentNode.parentNode.querySelector(".slider");a=thisIndex(el);pos=(a*100)+"%"}if(g=="left"||g=="right"){c=el.parentNode.querySelector(".slider");var a=thisIndex(c.parentNode.querySelector(".slider-nav a.active"));if(a==0&&g=="left"){a=c.children.length}if(a==(c.children.length-1)&&g=="right"){a=-1}pos=((g=="left"?--a:++a)*100)+"%"}removeClass(c.parentNode.querySelector(".slider-nav .active"),"active");addClass(c.parentNode.querySelector(".slider-nav").children[a],"active");mouseEvents(el.parentNode,"off");var f=400;if(("ontransitionend" in window)||(typeof document.body.style.MozTransition=="string")){c.style.cssText="overflow-y: visible; -webkit-transform: translateX(-"+pos+"); -moz-transform: translateX(-"+pos+"); -ms-transform: translateX(-"+pos+"); transform: translateX(-"+pos+"); -webkit-transition: -webkit-transform "+f+"ms ease; -moz-transition: -moz-transform "+f+"ms ease; -ms-transition: -ms-transform "+f+"ms ease;";c.addEventListener("transitionend",function(h){b=setTimeout(function(j){mouseEvents(el.parentNode)},f*2);document.onkeyup=sliderKeyboard},false)}else{c.style.cssText="overflow-y: visible; left: -"+pos+"; -webkit-transition: left "+f+"ms ease; transition: left "+f+"ms ease;";var b=setTimeout(function(){b=setTimeout(function(h){mouseEvents(el.parentNode)},f*2);document.onkeyup=sliderKeyboard},f)}}function sliderKeyboard(b){b=b||window.event;if(typeof b=="undefined"){return}el=b.target||b.srcElement;if(document.querySelector(".slider")==null){return}var a=el.tagName.toLowerCase();el=document.querySelector(".slider.lightbox")||document.querySelector(".slider");switch(b.which){case 37:if(a!="input"&&a!="textarea"){slide(el,"left")}break;case 39:if(a!="input"&&a!="textarea"){slide(el,"right")}break;default:return}document.onkeyup=function(){}}function makeSlider(c,d){if(c.children.length<2){return c}addClass(c,"slider");c.insertAdjacentHTML("beforebegin",'<div class="slider-container"></div>');container=c.previousSibling;container.insertAdjacentHTML("afterbegin",'<a class="slider-arrow left">←</a>'+c.outerHTML+'<a class="slider-arrow right">→</a><div class="slider-nav"></div>');container.nextSibling.outerHTML="";c=container.querySelector(".slider");c.style.overflowY="visible";for(var b=0;b<c.children.length;b++){if(c.children[b].querySelector(".thumbnail")){slider_nav=c.parentNode.querySelector(".slider-nav");addClass(slider_nav,"thumbnails");addClass(slider_nav,"row");slider_nav.insertAdjacentHTML("beforeend",(!b?'<a class="active">':"<a>")+c.children[b].querySelector(".thumbnail").innerHTML+"</a>")}else{container.querySelector(".slider-nav").insertAdjacentHTML("beforeend",(!b?'<a class="active">':"<a>")+(b+1)+"</a>")}container.querySelector(".slider-nav").lastChild.onclick=function(f){slide(f,"index")}}container.querySelector(".slider-arrow.left").onclick=function(f){slide(f,"left")};container.querySelector(".slider-arrow.right").onclick=function(f){slide(f,"right")};if(d){removeClass(c.parentNode.querySelector(".slider-nav .active"),"active");addClass(c.parentNode.querySelector(".slider-nav").children[d],"active");pos=d*100;c.style.cssText=(("ontransitionend" in window)||(typeof document.body.style.MozTransition=="string"))?("overflow-y: visible; -webkit-transform: translateX(-"+pos+"%); -moz-transform: translateX(-"+pos+"%);-ms-transform: translateX(-"+pos+"%);transform: translateX(-"+pos+"%);"):("overflow-y: visible; left: -"+pos+"%;")}document.onkeyup=sliderKeyboard;mouseEvents(c.parentNode);if("ontouchstart" in window){swipeEvents(c.parentNode);c.parentNode.addEventListener("swipeLeft",function(e){c=sliderElement(e);slide(c,"right")});c.parentNode.addEventListener("swipeRight",function(e){c=sliderElement(e);slide(c,"left")})}if(c.getAttribute("data-autoslide")){function a(){slide(c,"right");window.sliderTimeout=setTimeout(a,1000*c.getAttribute("data-autoslide"))}setTimeout(a,1000*c.getAttribute("data-autoslide"))}return c}forEach(".slider",function(b,a){makeSlider(b)});
function addClass(b,a){if(b.classList){b.classList.add(a)}else{b.className+=" "+a}}function removeClass(b,a){if(b.classList){b.classList.remove(a)}else{b.className=b.className.replace(new RegExp("(^|\\b)"+a.split(" ").join("|")+"(\\b|$)","gi")," ")}}function hasClass(b,a){if(b.classList){return b.classList.contains(a)}else{return new RegExp("(^| )"+a+"( |$)","gi").test(b.className)}}var parseHTML=function(a){tmp=document.implementation.createHTMLDocument("Parsed");tmp.body.innerHTML=a;return tmp.body};function forEach(a,c){elements=document.querySelectorAll(a);for(var b=0;b<elements.length;b++){c(elements[b],b)}}function addEventHandler(c,a,b){if(c.addEventListener){c.addEventListener(a,b,false)}else{if(c.attachEvent){c.attachEvent("on"+a,b)}}}function stopEvent(a){if(!a){var a=window.event}a.cancelBubble=true;a.returnValue=false;if(a.stopPropagation){a.stopPropagation()}if(a.preventDefault){a.preventDefault()}return false}function thisIndex(d){var a=d.parentNode.childNodes,c;var b=count=0;while((c=a.item(b++))&&c!=d){if(c.nodeType==1){count++}}return(count)}if(typeof document.body.style.textShadow=="undefined"){forEach("table",function(b,a){b.insertAdjacentHTML("beforebegin",'<div style="overflow-x: scroll"></div>');b.previousSibling.insertAdjacentHTML("beforeend",b.outerHTML);b.outerHTML=""})}function updateURLParameter(b,d,g){var j="";var f=b.split("?");var c=f[0];var e=f[1];var h="";if(e){f=e.split("&");for(i=0;i<f.length;i++){if(f[i].split("=")[0]!=d){j+=h+f[i];h="&"}}}var a=h+""+d+"="+g;return c+"?"+j+a}function getURLParameters(){var a={},b=/[?&]([^?&]+)=([^?&]+)/g;location.href.replace(b,function(e,d,c){a[d]=c});return a}var tip;function hideTip(a){if(!tip){return}removeClass(tip,"open")}function showTip(c){var a=c||window.event;var b=a.target||a.srcElement;tip=b.querySelector(".tip");if(!tip){return}tip.parentNode.parentNode.style.position="relative";tip.style.top=(tip.parentNode.offsetTop+tip.parentNode.offsetHeight)+"px";addClass(tip,"open")}function relayParameters(){parameters=getURLParameters();forEach("a[href]",function(c,b){for(var a in parameters){if(!c.href.indexOf("javascript")||(!c.href.indexOf("mailto"))){continue}var d=c.href.split("#")[1]?("#"+c.href.split("#")[1]):"";c.href=updateURLParameter(c.href.split("#")[0],a,parameters[a])+d}})}Math.easeInOutQuad=function(e,a,g,f){e/=f/2;if(e<1){return g/2*e*e+a}e--;return -g/2*(e*(e-2)-1)+a};var requestAnimFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1000/60)}})();function scrollTo(h,g){var d=(navigator.userAgent.indexOf("Firefox")!=-1||navigator.userAgent.indexOf("Trident")!=-1)?document.documentElement:document.body,f=d.scrollTop,e=h-f,c=0,a=20;var b=function(){c+=a;var j=Math.easeInOutQuad(c,f,e,400);d.scrollTop=j;if(c<400){requestAnimFrame(b)}else{if(g&&typeof(g)==="function"){g()}}};b()}function removeBlackbox(){var a=document.getElementById("blackbox");if(a){document.body.removeChild(a)}document.body.style.overflow="auto"}function modalWindow(d){document.body.onkeyup=function(g){var f=g||window.event;if(f.keyCode==27){removeBlackbox()}};var b=d||window.event;var c=b.target||b.srcElement;if(hasClass(c,"lightbox")){document.body.insertAdjacentHTML("afterbegin",'<div id="blackbox"> </div>');document.body.style.overflow="hidden";images="";elements=c.parentNode.querySelectorAll(".lightbox");current_slide=0;for(var a=0;a<elements.length;a++){images+='<div><img src="'+elements[a].href+'"></div>';if(elements[a]==c){current_slide=a}}document.getElementById("blackbox").innerHTML='<div class="close"> ← '+document.title+'</div><div class="slider lightbox">'+images+"</div>";document.querySelector("#blackbox > .close").onclick=removeBlackbox;if(makeSlider){makeSlider(document.querySelector("#blackbox .slider"));new_slider=document.querySelector("#blackbox .slider");new_slider.scrollLeft=current_slide*new_slider.offsetWidth;moveIndex(new_slider)}}else{if(navigator.userAgent.indexOf("MSIE 8")!=-1){window.open(c.href,"_blank");return}request=new XMLHttpRequest();request.open("GET",c.href.split("#")[0],true);request.onload=function(){if(request.status>=200&&request.status<400){container=(typeof c.href.split("#")[1]!="undefined")?("#"+c.href.split("#")[1]):0;document.body.insertAdjacentHTML("afterbegin",'<div id="blackbox"> </div>');document.body.style.overflow="hidden";blackbox=document.getElementById("blackbox");blackbox.insertAdjacentHTML("afterbegin",'<div class="close"> ← '+document.title+"</div>");blackbox.querySelector(".close").onclick=removeBlackbox;if(container){parsed=parseHTML(request.responseText);if(!parsed.querySelector(container)){removeBlackbox();return false}blackbox.insertAdjacentHTML("beforeend",parsed.querySelector(container).innerHTML)}else{blackbox.insertAdjacentHTML("beforeend",request.responseText)}relayParameters()}else{}};request.onerror=function(){};request.send()}return false}addEventHandler(window,"load",function(){relayParameters();forEach("a.modal, a.lightbox",function(b,a){b.onclick=modalWindow});forEach(".tool",function(b,a){b.onclick=showTip;if(!("ontouchstart" in window)){b.onmouseover=showTip;b.onmouseout=hideTip}addEventHandler(b,"touchmove",hideTip,false)});document.body.insertAdjacentHTML("beforeend",'<a class="backtotop" href="#"> ⬆ </a>');document.body.querySelector(".backtotop").onclick=function(){window.scrollTo(0);return false};forEach("textarea",function(b,a){b.onkeyup=function(d){var c=d||window.event;var f=c.target||c.srcElement;while(f.rows>1&&f.scrollHeight<f.offsetHeight){f.rows--}while(f.scrollHeight>f.offsetHeight){f.rows++}f.rows++}});forEach("form",function(b,a){b.onsubmit=function(){ready_to_submit=true;elements=b.querySelectorAll(".mandatory");Array.prototype.forEach.call(elements,function(d,c){if(!d.querySelector("input, select, textarea").value){ready_to_submit=false;addClass(d,"alert")}else{removeClass(d,"alert")}});if(!ready_to_submit){b.scrollIntoView()}return ready_to_submit}});forEach(".accordion",function(b,a){b.onclick=function(c){stopEvent(c);b.querySelector("div").style.maxHeight=((b.querySelector("div").style.maxHeight=="")?(b.querySelector("div").scrollHeight+"px"):"");if(hasClass(b,"open")){removeClass(b,"open")}else{addClass(b,"open")}if(hasClass(b.parentNode.parentNode,"accordion")){b.parentNode.style.maxHeight=b.querySelector("div").scrollHeight+b.parentNode.scrollHeight+"px"}return false};b.querySelector("div").onclick=function(d){var c=d||window.event;c.cancelBubble=true}});document.getElementById("top").style.minHeight=document.querySelector("#top .row").scrollHeight+"px";if(document.querySelector("#nav-main > input.trigger")){document.querySelector("#nav-main > input.trigger").onchange=function(a){if(document.querySelector("#nav-main > input.trigger").checked){addClass(document.body,"lock-position")}else{removeClass(document.body,"lock-position")}}}});
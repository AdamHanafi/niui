function is_touch_device(){return !!("ontouchstart" in window)}function addclass(b,a){if(b.classList){b.classList.add(a)}else{b.className+=" "+a}}function removeclass(b,a){if(b.classList){b.classList.remove(a)}else{b.className=b.className.replace(new RegExp("(^|\\b)"+a.split(" ").join("|")+"(\\b|$)","gi")," ")}}var parseHTML=function(b){var a=document.implementation.createHTMLDocument("Parsed");a.body.innerHTML=b;return a.body};function hasclass(b,a){if(b.classList){return b.classList.contains(a)}else{return new RegExp("(^| )"+a+"( |$)","gi").test(b.className)}}function forEachElement(a,c){var d=document.querySelectorAll(a);for(var b=0;b<d.length;b++){c(d[b],b)}}function addEventHandler(c,a,b){if(c.addEventListener){c.addEventListener(a,b,false)}else{if(c.attachEvent){c.attachEvent("on"+a,b)}}}function stopEvent(a){if(!a){var a=window.event}a.cancelBubble=true;a.returnValue=false;if(a.stopPropagation){a.stopPropagation()}if(a.preventDefault){a.preventDefault()}return false}if(navigator.userAgent.indexOf("MSIE 8")!=-1){forEachElement(".accordion label",function(b,a){b.onclick=function(c){if(hasclass(window.event.srcElement,"open")){removeclass(window.event.srcElement,"open")}else{addclass(window.event.srcElement,"open")}}})}function updateURLParameter(b,d,g){var j="";var f=b.split("?");var c=f[0];var e=f[1];var h="";if(e){f=e.split("&");for(i=0;i<f.length;i++){if(f[i].split("=")[0]!=d){j+=h+f[i];h="&"}}}var a=h+""+d+"="+g;return c+"?"+j+a}function getURLParameters(){var f={};var b=location.href.match(/[^=&?]+\s*=\s*[^&#]*/g);if(b){for(var c=b.length;c--;){var e=b[c].split("=");var a=e[0];var d=e[1];f[a]=f[a]||[];f[a].push(d)}}return f}var tip;function hide_tip(a){if(!tip){return}tip.style.display="none";tip.style.opacity=0}function show_tip(c){var a=c||window.event;var b=a.target||a.srcElement;tip=b.querySelector(".tip");if(!tip){return}tip.parentNode.parentNode.style.position="relative";tip.style.top=(tip.parentNode.offsetTop+tip.parentNode.offsetHeight)+"px";tip.style.opacity=1;tip.style.display="block"}function relay_parameters(){parameters=getURLParameters();forEachElement("a[href]",function(c,b){for(var a in parameters){if(!c.href.indexOf("javascript")||(!c.href.indexOf("mailto"))){continue}var d=c.href.split("#")[1]?("#"+c.href.split("#")[1]):"";c.href=updateURLParameter(c.href.split("#")[0],a,parameters[a])+d}})}Math.easeInOutQuad=function(e,a,g,f){e/=f/2;if(e<1){return g/2*e*e+a}e--;return -g/2*(e*(e-2)-1)+a};Math.easeInCubic=function(f,e,h,g){var a=(f/=g)*f*f;return e+h*(a)};Math.inOutQuintic=function(f,e,j,h){var g=(f/=h)*f,a=g*f;return e+j*(6*a*g+-15*g*g+10*a)};var requestAnimFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1000/60)}})();function scrollTo(h,g){var d=(navigator.userAgent.indexOf("Firefox")!=-1||navigator.userAgent.indexOf("Trident")!=-1)?document.documentElement:document.body,f=d.scrollTop,e=h-f,c=0,a=20;console.log(d.innerHTML);var b=function(){c+=a;var j=Math.easeInOutQuad(c,f,e,400);d.scrollTop=j;if(c<400){requestAnimFrame(b)}else{if(g&&typeof(g)==="function"){g()}}};b()}function remove_blackbox(){var a=document.getElementById("blackbox");if(a){document.body.removeChild(a)}document.body.style.overflow="auto"}function modal_window(c){document.body.onkeyup=function(f){var d=f||window.event;if(d.keyCode==27){remove_blackbox()}};var a=c||window.event;var b=a.target||a.srcElement;if(hasclass(b,"lightbox")){document.body.insertAdjacentHTML("afterbegin",'<div id="blackbox"> </div>');document.body.style.overflow="hidden";document.getElementById("blackbox").innerHTML='<div class="close"> ← '+document.title+'</div><img src="'+b.href+'" alt="Lightbox">';document.getElementById("blackbox").querySelector(".close").onclick=remove_blackbox}else{if(navigator.userAgent.indexOf("MSIE 8")!=-1){window.open(b.href,"_blank");return}request=new XMLHttpRequest();request.open("GET",b.href.split("#")[0],true);request.onload=function(){if(request.status>=200&&request.status<400){container=(typeof b.href.split("#")[1]!="undefined")?("#"+b.href.split("#")[1]):0;document.body.insertAdjacentHTML("afterbegin",'<div id="blackbox"> </div>');document.body.style.overflow="hidden";blackbox=document.getElementById("blackbox");blackbox.insertAdjacentHTML("afterbegin",'<div class="close"> ← '+document.title+"</div>");blackbox.querySelector(".close").onclick=remove_blackbox;if(container){parsed=parseHTML(request.responseText);if(!parsed.querySelector(container)){remove_blackbox();return false}blackbox.insertAdjacentHTML("beforeend",parsed.querySelector(container).innerHTML)}else{blackbox.insertAdjacentHTML("beforeend",request.responseText)}relay_parameters()}else{}};request.onerror=function(){};request.send()}return false}addEventHandler(window,"load",function(){relay_parameters();forEachElement("a.modal-link, a.lightbox",function(b,a){b.onclick=modal_window});forEachElement(".tool",function(b,a){b.onclick=show_tip;if(!is_touch_device()){b.onmouseover=show_tip;b.onmouseout=hide_tip}addEventHandler(b,"touchmove",hide_tip,false)});document.body.insertAdjacentHTML("beforeend",'<a class="backtotop"> ⬆ </a>');document.body.querySelector(".backtotop").onclick=function(){scrollTo(0);return false};forEachElement("textarea",function(b,a){b.onkeyup=function(d){var c=d||window.event;var f=c.target||c.srcElement;while(f.rows>1&&f.scrollHeight<f.offsetHeight){f.rows--}while(f.scrollHeight>f.offsetHeight){f.rows++}f.rows++}});forEachElement("form",function(b,a){b.onsubmit=function(){ready_to_submit=true;elements=b.querySelectorAll(".mandatory");Array.prototype.forEach.call(elements,function(d,c){if(!d.querySelector("input, select, textarea").value){ready_to_submit=false;addclass(d,"alert")}else{removeclass(d,"alert")}});return ready_to_submit}})});
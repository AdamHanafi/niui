function addClass(b,a){if(b.classList){b.classList.add(a)}else{b.className+=" "+a}}function removeClass(b,a){if(!b){return}if(b.classList){b.classList.remove(a)}else{b.className=b.className.replace(new RegExp("(^|\\b)"+a.split(" ").join("|")+"(\\b|$)","gi")," ")}}function hasClass(b,a){if(b.classList){return b.classList.contains(a)}else{return new RegExp("(^| )"+a+"( |$)","gi").test(b.className)}}function toggleClass(b,a){if(hasClass(b,a)){removeClass(b,a)}else{addClass(b,a)}}var parseHTML=function(a){tmp=document.implementation.createHTMLDocument("Parsed");tmp.body.innerHTML=a;return tmp.body};function forEach(a,c){elements=(typeof a=="object")?a:document.querySelectorAll(a);for(var b=0;b<elements.length;b++){c(elements[b],b)}}function addEventHandler(c,a,b){if(c.addEventListener){c.addEventListener(a,b,false)}else{if(c.attachEvent){c.attachEvent("on"+a,b)}}}function stopEvent(a){if(!a){var a=window.event}a.cancelBubble=true;a.returnValue=false;if(a.stopPropagation){a.stopPropagation()}if(a.preventDefault){a.preventDefault()}return false}function thisIndex(c){var a=c.parentNode.childNodes,d;var b=count=0;while((d=a.item(b++))&&d!=c){if(d.nodeType==1){count++}}return(count)}if(typeof document.body.style.textShadow=="undefined"){forEach("table",function(b,a){b.insertAdjacentHTML("beforebegin",'<div class="table-container"></div>');b.previousSibling.insertAdjacentHTML("beforeend",b.outerHTML);b.outerHTML=""})}function updateURLParameter(b,d,g){var j="";var f=b.split("?");var c=f[0];var e=f[1];var h="";if(e){f=e.split("&");for(i=0;i<f.length;i++){if(f[i].split("=")[0]!=d){j+=h+f[i];h="&"}}}var a=h+""+d+"="+g;return c+"?"+j+a}function getURLParameters(){var a={},b=/[?&]([^?&]+)=([^?&]+)/g;location.href.replace(b,function(e,d,c){a[d]=c});return a}var parameters_list=new Array("parameter1","parameter2");function relayParameters(){parameters=getURLParameters();forEach("a[href]",function(c,b){for(var a in parameters){if(parameters_list.indexOf(a)==-1){continue}if(!c.href.indexOf("javascript")||(!c.href.indexOf("mailto"))){continue}var d=c.href.split("#")[1]?("#"+c.href.split("#")[1]):"";c.href=updateURLParameter(c.href.split("#")[0],a,parameters[a])+d}})}Math.easeInOutQuad=function(e,a,g,f){e/=f/2;if(e<1){return g/2*e*e+a}e--;return -g/2*(e*(e-2)-1)+a};var requestAnimFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1000/60)}})();function scrollTo(h,g){var d=(navigator.userAgent.indexOf("Chrome")!=-1||navigator.userAgent.indexOf("Firefox")!=-1||navigator.userAgent.indexOf("Trident")!=-1)?document.documentElement:document.body,f=d.scrollTop,e=h-f,c=0,a=20;if((navigator.userAgent.indexOf("Trident"))!=-1){d.scrollTop=h;return false}var b=function(){c+=a;var j=Math.easeInOutQuad(c,f,e,400);d.scrollTop=j;if(c<400){requestAnimFrame(b)}else{if(g&&typeof(g)==="function"){g()}}};b()}function removeBlackbox(){var a=document.getElementById("blackbox");if(a){if(a.querySelector(".slider")){removeClass(a.querySelector(".slider"),"slider");slider=document.querySelector(".slider")}document.body.removeChild(a)}removeClass(document.querySelector("html"),"nooverflow")}function modalWindow(d){document.body.onkeyup=function(g){var f=g||window.event;if(f.keyCode==27){removeBlackbox()}};var c=d||window.event;var b=c.target||c.srcElement;if(b.tagName=="IMG"){b=b.parentNode}if(hasClass(b,"lightbox")){document.body.insertAdjacentHTML("afterbegin",'<div id="blackbox"> </div>');addClass(document.querySelector("html"),"nooverflow");images="";elements=b.parentNode.querySelectorAll(".lightbox");current_slide=0;for(var a=0;a<elements.length;a++){images+='<div><img src="'+elements[a].href+'"></div>';if(elements[a]==b){current_slide=a}}document.getElementById("blackbox").innerHTML='<div class="close"> ← '+document.title+'</div><div class="slider lightbox">'+images+'</div><div id="blackbox-bg"></div>';if(makeSlider){slider=makeSlider(document.querySelector("#blackbox .slider"),current_slide);slider.style.maxHeight=(parseInt(slider.style.maxHeight)-document.querySelector("#blackbox .close").offsetHeight)+"px";slider.parentNode.insertAdjacentHTML("beforeend","<style> .slider > * > img { max-height: "+slider.style.maxHeight+"; } </style>")}document.getElementById("blackbox-bg").onclick=document.querySelector("#blackbox .close").onclick=removeBlackbox}else{if(navigator.userAgent.indexOf("MSIE 8")!=-1){window.open(b.href,"_blank");return false}request=new XMLHttpRequest();request.open("GET",b.href.split("#")[0],true);request.onload=function(){if(request.status>=200&&request.status<400){container=(typeof b.href.split("#")[1]!="undefined")?("#"+b.href.split("#")[1]):0;document.body.insertAdjacentHTML("afterbegin",'<div id="blackbox"> </div>');addClass(document.querySelector("html"),"nooverflow");blackbox=document.getElementById("blackbox");blackbox.insertAdjacentHTML("afterbegin",'<div class="close"> ← '+document.title+"</div>");if(container){parsed=parseHTML(request.responseText);if(!parsed.querySelector(container)){removeBlackbox();return false}blackbox.insertAdjacentHTML("beforeend",parsed.querySelector(container).innerHTML)}else{blackbox.insertAdjacentHTML("beforeend",request.responseText)}blackbox.querySelector(".close").onclick=removeBlackbox;relayParameters()}else{}};request.onerror=function(){};request.send()}return false}relayParameters();forEach(".tool",function(b,a){t=b.querySelector(".tip");if(!t){return}b.style.position="static";b.parentNode.style.position="relative";t.style.top=(t.parentNode.offsetTop+t.parentNode.offsetHeight)+"px";t.style.width="100%"});document.querySelector(document.querySelector("#footer > div > div")?"#footer > div > div":"body").insertAdjacentHTML("beforeend",'<a class="backtotop" href="#"> ↑ </a>');function animateAnchors(c){var b=c||window.event;var a=b.target||b.srcElement;hash=document.getElementById(a.href.split("#")[1]);document.querySelector("#nav-trigger").checked=false;removeClass(document.querySelector(".nav-main > div"),"open");if(navigator.userAgent.indexOf("Android")==-1){scrollTo((hash==null)?0:hash.offsetTop,function(d){window.location=a.href});return false}else{window.location=a.href}}forEach('a[href*="#"]',function(b,a){b.onclick=animateAnchors});forEach("a.modal, a.lightbox",function(b,a){b.onclick=modalWindow});forEach("textarea",function(b,a){b.onkeyup=function(f){var d=f||window.event;var c=d.target||d.srcElement;while(c.rows>1&&c.scrollHeight<c.offsetHeight){c.rows--}while(c.scrollHeight>c.offsetHeight){if(c.rows>20){break}c.rows++}c.rows++}});function submitForm(b){var a=b||window.event;el=a.target||a.srcElement;ready_to_submit=true;forEach(el.querySelectorAll(".mandatory"),function(d,c){if((d.querySelector("input, select, textarea")&&!d.querySelector("input, select, textarea").value)||(d.querySelector('input[type="checkbox"]')&&!d.querySelector('input[type="checkbox"]').checked)||(d.querySelector('input[type="radio"]')&&!d.querySelector('input[type="radio"]').checked)){ready_to_submit=false;d.querySelector("input").focus();addClass(d,"alert");return}else{removeClass(d,"alert")}});if(!ready_to_submit){scrollTo(el.offsetTop+el.parentNode.offsetTop)}return ready_to_submit}forEach("form",function(b,a){b.onsubmit=submitForm});function updateFileInput(b){var a=b||window.event;el=a.target||a.srcElement;el.parentNode.querySelector("span").innerHTML=el.value.substring(el.value.lastIndexOf("\\")+1)}forEach('input[type="file"]',function(b,a){b.onchange=updateFileInput});function toggleAccordion(b){var a=b||window.event;el=a.target||a.srcElement;stopEvent(b);el=el.parentNode;toggleClass(el,"open");el.querySelector("div").style.maxHeight=((el.querySelector("div").style.maxHeight=="")?(el.querySelector("div").scrollHeight+"px"):"");if(hasClass(el.parentNode.parentNode,"accordion")){el.parentNode.style.maxHeight=el.querySelector("div").scrollHeight+el.parentNode.scrollHeight+"px"}return false}forEach(".accordion > label",function(b,a){b.onclick=toggleAccordion;b=b.parentNode;if(b.querySelector("input.trigger")){b.querySelector("input.trigger").outerHTML=""}b.querySelector("div").onclick=function(d){var c=d||window.event;c.cancelBubble=true}});if("ontouchstart" in window){document.body.insertAdjacentHTML("beforeend","<style> a[href]:hover { color: inherit; } .tool:hover .tip { display: none; } </style>")}addEventHandler(window,"load",function(){var a=22;forEach("#content img",function(b){extra_padding=((Math.round(b.height/a)+1)*a-b.height);if(extra_padding>=a){extra_padding-=a}b.style.paddingBottom=extra_padding+"px"})});var scrollTimer=null;var slider;var original_scroll=0;var slider_animation=0;var current_scroll=0;function scrollSlider(b){if(navigator.userAgent.indexOf("Android")!=-1){return}var a=b||window.event;el=a.target||a.srcElement;stopEvent(b);if(slider_animation){return}slider=el;original_scroll=el.getAttribute("data-original-scroll");clearTimeout(scrollTimer);current_scroll=slider.scrollLeft;scrollTimer=setTimeout(function(c){if(current_scroll==slider.scrollLeft){if(navigator.userAgent.indexOf("Android")!=-1){slider.style.overflow="hidden"}slide(a,"snap")}},50)}function moveIndex(b){removeClass(slider.parentNode.querySelector(".slider-nav a.active"),"active");var a=(typeof b=="undefined")?(Math.round(slider.scrollLeft/slider.offsetWidth)):(b);if(slider.parentNode.querySelector(".slider-nav").children[a]){addClass(slider.parentNode.querySelector(".slider-nav").children[a],"active")}}function slideEnd(){original_scroll=slider.scrollLeft;slider.setAttribute("data-original-scroll",original_scroll);moveIndex();slider_animation=0;forEach(".slider",function(b,a){b.onscroll=scrollSlider});if(navigator.userAgent.indexOf("Android")!=-1){slider.style.overflow="scroll"}}function slide(c,g){if(slider_animation){return}forEach(".slider",function(h,e){h.onscroll=null});var b=c||window.event;if(typeof b.srcElement=="unknown"){slideEnd();return}el=b.target||b.srcElement;stopEvent(b);if(typeof el=="undefined"){el=c}var f=0;if(g=="index"){slider=el.parentNode.parentNode.querySelector(".slider");start=slider.scrollLeft;f=slider.children[thisIndex(el)].offsetLeft-start}if(g=="arrow"){slider=el.parentNode.querySelector(".slider");start=slider.scrollLeft;var d=thisIndex(slider.parentNode.querySelector("a.active"));if(hasClass(el,"left")){i=0;while(i<slider.children.length){el=slider.children[i++];if(el.offsetLeft>=slider.scrollLeft){if(i>1){f=-1*(slider.scrollLeft-el.previousSibling.offsetLeft)}break}}}else{i=0;while(i<slider.children.length){el=slider.children[i++];if(el.offsetLeft>=slider.scrollLeft){f=el.offsetLeft-slider.scrollLeft;break}}if(!f){f=(slider.children.length-1>d)?slider.children[d+1].offsetLeft-slider.children[d].offsetLeft:0}}}if(g=="snap"){slider=el;start=slider.scrollLeft;if(slider.scrollLeft>original_scroll){f=slider.offsetWidth-slider.scrollLeft%slider.offsetWidth;var d=Math.round((f+start)/slider.offsetWidth);if(d>=slider.children.length){d=slider.children.length-1}f=slider.children[d].offsetLeft-slider.scrollLeft}else{f=slider.scrollLeft%slider.offsetWidth-slider.offsetWidth;f=-1*(slider.offsetWidth+f);var d=Math.round((f+start)/slider.offsetWidth);if(d<0){d=0}f=-1*(start-slider.children[d].offsetLeft)}if(original_scroll==slider.scrollLeft){f=0}}if(!f){slideEnd();return}slider_animation=1;currentTime=0,increment=20;duration=400;var a=function(){currentTime+=increment;var e=Math.easeInOutQuad(currentTime,start,f,duration);slider.scrollLeft=e;if((currentTime<duration)){requestAnimFrame(a)}else{if(slideEnd&&typeof(slideEnd)==="function"){slideEnd()}}};a()}function sliderKeyboard(b){var a=b||window.event;el=a.target||a.srcElement;if(a.keyCode==37){slide(el,"left")}if(a.keyCode==39){slide(el,"right")}}function scrollBarWidth(){if(navigator.userAgent.indexOf("MSIE 8")!=-1){return 17}var c=(navigator.userAgent.indexOf("Chrome")!=-1||navigator.userAgent.indexOf("Firefox")!=-1||navigator.userAgent.indexOf("Trident")!=-1)?document.documentElement.querySelector("body"):document.body;c.insertAdjacentHTML("beforeend",'<div style="width:200px;height:150px; position: absolute; top: 0; left: 0; visibility: hidden; overflow:hidden;" id="outer"><div style="width: 100%; height:200px;" id="inner">test</div></div>');inner=document.getElementById("inner");outer=document.getElementById("outer");var b=inner.offsetWidth;outer.style.overflow="scroll";var a=outer.clientWidth;outer.parentNode.removeChild(outer);return(b-a)}function makeSlider(b,c){addClass(b,"slider");b.insertAdjacentHTML("beforebegin",'<div class="slider-container"></div>');container=b.previousSibling;container.insertAdjacentHTML("afterbegin",'<a class="slider-arrow left">←</a>'+b.outerHTML.replace(new RegExp(">[\n\t ]+<","g"),"><")+'<a class="slider-arrow right">→</a><div class="slider-nav"></div>');container.nextSibling.outerHTML="";b=container.querySelector(".slider");b.scrollLeft=(c)?(b.children[c].offsetLeft):0;b.style.marginBottom="-"+scrollBarWidth()+"px";for(var a=0;a<b.children.length;a++){if(b.children[a].querySelector(".thumbnail")){slider_nav=b.parentNode.querySelector(".slider-nav");addClass(slider_nav,"thumbnails");addClass(slider_nav,"row");slider_nav.insertAdjacentHTML("beforeend",(!a?'<a class="active">':"<a>")+b.children[a].querySelector(".thumbnail").innerHTML+"</a>")}else{container.querySelector(".slider-nav").insertAdjacentHTML("beforeend",(!a?'<a class="active">':"<a>")+(a+1)+"</a>")}container.querySelector(".slider-nav").lastChild.onclick=function(d){slide(d,"index")}}container.querySelector(".slider-arrow.left").onclick=container.querySelector(".slider-arrow.right").onclick=function(d){slide(d,"arrow")};b.setAttribute("data-original-scroll",b.scrollLeft);b.onscroll=scrollSlider;b.style.maxHeight=window.innerHeight+"px";return b}document.onkeyup=sliderKeyboard;forEach(".slider",function(b,a){makeSlider(b)});slider=document.querySelector(".slider");
function addClass(b,a){if(b.classList){b.classList.add(a)}else{b.className+=" "+a}}function removeClass(b,a){if(!b){return}if(b.classList){b.classList.remove(a)}else{b.className=b.className.replace(new RegExp("(^|\\b)"+a.split(" ").join("|")+"(\\b|$)","gi")," ")}}function hasClass(b,a){if(b.classList){return b.classList.contains(a)}else{return new RegExp("(^| )"+a+"( |$)","gi").test(b.className)}}var parseHTML=function(a){tmp=document.implementation.createHTMLDocument("Parsed");tmp.body.innerHTML=a;return tmp.body};function forEach(b,a){elements=document.querySelectorAll(b);for(var c=0;c<elements.length;c++){a(elements[c],c)}}function addEventHandler(b,c,a){if(b.addEventListener){b.addEventListener(c,a,false)}else{if(b.attachEvent){b.attachEvent("on"+c,a)}}}function stopEvent(a){if(!a){var a=window.event}a.cancelBubble=true;a.returnValue=false;if(a.stopPropagation){a.stopPropagation()}if(a.preventDefault){a.preventDefault()}return false}function thisIndex(c){var a=c.parentNode.childNodes,d;var b=count=0;while((d=a.item(b++))&&d!=c){if(d.nodeType==1){count++}}return(count)}if(typeof document.body.style.textShadow=="undefined"){forEach("table",function(b,a){b.insertAdjacentHTML("beforebegin",'<div style="overflow-x: scroll"></div>');b.previousSibling.insertAdjacentHTML("beforeend",b.outerHTML);b.outerHTML=""})}function updateURLParameter(b,a,h){var g="";var d=b.split("?");var f=d[0];var e=d[1];var j="";if(e){d=e.split("&");for(i=0;i<d.length;i++){if(d[i].split("=")[0]!=a){g+=j+d[i];j="&"}}}var c=j+""+a+"="+h;return f+"?"+g+c}function getURLParameters(){var a={},b=/[?&]([^?&]+)=([^?&]+)/g;location.href.replace(b,function(e,c,d){a[c]=d});return a}var tip;function hideTip(a){if(!tip){return}removeClass(tip,"open")}function showTip(b){var c=b||window.event;var a=c.target||c.srcElement;tip=a.querySelector(".tip");if(!tip){return}tip.parentNode.parentNode.style.position="relative";tip.style.top=(tip.parentNode.offsetTop+tip.parentNode.offsetHeight)+"px";addClass(tip,"open")}var parameters_list=new Array("parameter1","parameter2");function relayParameters(){parameters=getURLParameters();forEach("a[href]",function(d,c){for(var b in parameters){if(parameters_list.indexOf(b)==-1){continue}if(!d.href.indexOf("javascript")||(!d.href.indexOf("mailto"))){continue}var a=d.href.split("#")[1]?("#"+d.href.split("#")[1]):"";d.href=updateURLParameter(d.href.split("#")[0],b,parameters[b])+a}})}Math.easeInOutQuad=function(g,e,f,a){g/=a/2;if(g<1){return f/2*g*g+e}g--;return -f/2*(g*(g-2)-1)+e};var requestAnimFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1000/60)}})();function scrollTo(a,f){var h=(navigator.userAgent.indexOf("Firefox")!=-1||navigator.userAgent.indexOf("Trident")!=-1)?document.documentElement:document.body,e=h.scrollTop,c=a-e,d=0,g=20;var b=function(){d+=g;var j=Math.easeInOutQuad(d,e,c,400);h.scrollTop=j;if(d<400){requestAnimFrame(b)}else{if(f&&typeof(f)==="function"){f()}}};b()}function removeBlackbox(){var a=document.getElementById("blackbox");if(a){document.body.removeChild(a)}document.body.style.overflow="auto"}function modalWindow(b){document.body.onkeyup=function(f){var g=f||window.event;if(g.keyCode==27){removeBlackbox()}};var c=b||window.event;var a=c.target||c.srcElement;if(hasClass(a,"lightbox")){document.body.insertAdjacentHTML("afterbegin",'<div id="blackbox"> </div>');document.body.style.overflow="hidden";images="";elements=a.parentNode.querySelectorAll(".lightbox");current_slide=0;for(var d=0;d<elements.length;d++){images+='<div><img src="'+elements[d].href+'"></div>';if(elements[d]==a){current_slide=d}}document.getElementById("blackbox").innerHTML='<div class="close"> � '+document.title+'</div><div class="slider lightbox">'+images+"</div>";document.querySelector("#blackbox > .close").onclick=removeBlackbox;if(makeSlider){new_slider=makeSlider(document.querySelector("#blackbox .slider"));new_slider.scrollLeft=current_slide*new_slider.offsetWidth;moveIndex(new_slider)}}else{if(navigator.userAgent.indexOf("MSIE 8")!=-1){window.open(a.href,"_blank");return}request=new XMLHttpRequest();request.open("GET",a.href.split("#")[0],true);request.onload=function(){if(request.status>=200&&request.status<400){container=(typeof a.href.split("#")[1]!="undefined")?("#"+a.href.split("#")[1]):0;document.body.insertAdjacentHTML("afterbegin",'<div id="blackbox"> </div>');document.body.style.overflow="hidden";blackbox=document.getElementById("blackbox");blackbox.insertAdjacentHTML("afterbegin",'<div class="close"> � '+document.title+"</div>");blackbox.querySelector(".close").onclick=removeBlackbox;if(container){parsed=parseHTML(request.responseText);if(!parsed.querySelector(container)){removeBlackbox();return false}blackbox.insertAdjacentHTML("beforeend",parsed.querySelector(container).innerHTML)}else{blackbox.insertAdjacentHTML("beforeend",request.responseText)}relayParameters()}else{}};request.onerror=function(){};request.send()}return false}addEventHandler(window,"load",function(){relayParameters();forEach("a.modal, a.lightbox",function(b,a){b.onclick=modalWindow});forEach(".tool",function(b,a){b.onclick=showTip;if(!("ontouchstart" in window)){b.onmouseover=showTip;b.onmouseout=hideTip}addEventHandler(b,"touchmove",hideTip,false)});if(document.getElementById("footer")){document.getElementById("footer").insertAdjacentHTML("beforeend",'<a class="backtotop" href="#"> ? </a>');document.body.querySelector(".backtotop").onclick=function(){window.scrollTo(0);return false}}forEach("textarea",function(b,a){b.onkeyup=function(c){var d=c||window.event;var f=d.target||d.srcElement;while(f.rows>1&&f.scrollHeight<f.offsetHeight){f.rows--}while(f.scrollHeight>f.offsetHeight){f.rows++}f.rows++}});forEach("form",function(b,a){b.onsubmit=function(){ready_to_submit=true;elements=b.querySelectorAll(".mandatory");Array.prototype.forEach.call(elements,function(d,c){if(!d.querySelector("input, select, textarea").value){ready_to_submit=false;addClass(d,"alert")}else{removeClass(d,"alert")}});if(!ready_to_submit){b.scrollIntoView()}return ready_to_submit}});forEach(".accordion",function(b,a){b.onclick=function(c){stopEvent(c);b.querySelector("div").style.maxHeight=((b.querySelector("div").style.maxHeight=="")?(b.querySelector("div").scrollHeight+"px"):"");if(hasClass(b,"open")){removeClass(b,"open")}else{addClass(b,"open")}if(hasClass(b.parentNode.parentNode,"accordion")){b.parentNode.style.maxHeight=b.querySelector("div").scrollHeight+b.parentNode.scrollHeight+"px"}return false};b.querySelector("div").onclick=function(c){var d=c||window.event;d.cancelBubble=true}});document.getElementById("head").style.minHeight=document.querySelector("#head .row").scrollHeight+"px";if(document.querySelector("#nav-main > input.trigger")){document.querySelector("#nav-main > input.trigger").onchange=function(a){if(document.querySelector("#nav-main > input.trigger").checked){addClass(document.body,"lock-position")}else{removeClass(document.body,"lock-position")}}}});

var scrollTimer=null;var slider;var original_scroll=0;var slider_animation=0;function scrollSlider(a){if(slider_animation){return}var b=a||window.event;el=b.target||b.srcElement;if(slider!=el){original_scroll=el.scrollLeft}slider=el;clearTimeout(scrollTimer);scrollTimer=setTimeout(function(){slide(b,"snap")},50)}function moveIndex(){removeClass(slider.parentNode.querySelector(".slider-nav a.active"),"active");var a=Math.round(slider.scrollLeft/slider.offsetWidth)+1;if(slider.parentNode.querySelector(".slider-nav").childNodes[a-1]){addClass(slider.parentNode.querySelector(".slider-nav").childNodes[a-1],"active")}}function slideEnd(){original_scroll=slider.scrollLeft;moveIndex();slider_animation=0;document.onkeyup=sliderKeyboard;forEach(".slider",function(b,a){b.onscroll=scrollSlider})}function slide(a,b){if(slider_animation){return}slider_animation=1;forEach(".slider",function(g,e){g.onscroll=null});var f=a||window.event;if(typeof f.srcElement=="unknown"){return}el=f.target||f.srcElement;stopEvent(f);var c=0;if(b=="index"){slider=el.parentNode.parentNode.querySelector(".slider");start=slider.scrollLeft;c=thisIndex(el)*slider.offsetWidth-start}if(b=="arrow"){slider=el.parentNode.querySelector(".slider");start=slider.scrollLeft;if(hasClass(el,"left")){c=slider.scrollLeft-slider.offsetWidth-start}else{c=slider.scrollLeft+slider.offsetWidth-start}}if(b=="snap"){slider=el;if(slider.scrollLeft>original_scroll){c=slider.offsetWidth-slider.scrollLeft%slider.offsetWidth}else{c=slider.scrollLeft%slider.offsetWidth-slider.offsetWidth;c=-1*(slider.offsetWidth+c)}if(original_scroll==slider.scrollLeft){c=0}start=slider.scrollLeft}if(!c){slideEnd();return}currentTime=0,increment=20;duration=400;var d=function(){currentTime+=increment;var e=Math.easeInOutQuad(currentTime,start,c,duration);slider.scrollLeft=e;if((currentTime<duration)){requestAnimFrame(d)}else{if(slideEnd&&typeof(slideEnd)==="function"){slideEnd()}}};d()}function sliderKeyboard(a){}function makeSlider(b){addClass(b,"slider");b.insertAdjacentHTML("beforebegin",'<div class="slider-container"></div>');container=b.previousSibling;container.insertAdjacentHTML("afterbegin",'<a class="slider-arrow left">�</a>'+b.outerHTML.replace(new RegExp(">[\n\t ]+<","g"),"><")+'<a class="slider-arrow right">�</a><div class="slider-nav"></div>');container.nextSibling.outerHTML="";b=container.querySelector(".slider");b.style.overflowX="hidden";height_scroll=b.offsetHeight;b.style.overflowX="scroll";height_scroll=b.offsetHeight-height_scroll;for(var a=0;a<b.children.length;a++){if(b.children[a].querySelector(".thumbnail")){slider_nav=b.parentNode.querySelector(".slider-nav");addClass(slider_nav,"thumbnails");addClass(slider_nav,"row");slider_nav.insertAdjacentHTML("beforeend",(!a?'<a class="active">':"<a>")+b.children[a].querySelector(".thumbnail").innerHTML+"</a>");slider_nav.style.marginTop=(-1*height_scroll)+"px"}else{container.querySelector(".slider-nav").insertAdjacentHTML("beforeend",(!a?'<a class="active">':"<a>")+(a+1)+"</a>");if(!a){container.style.height=(container.offsetHeight-height_scroll)+"px"}}container.querySelector(".slider-nav").lastChild.onclick=function(c){slide(c,"index")}}container.querySelector(".slider-arrow.left").onclick=container.querySelector(".slider-arrow.right").onclick=function(c){slide(c,"arrow")};b.onscroll=scrollSlider;return b}addEventHandler(window,"load",function(){document.onkeyup=sliderKeyboard;forEach(".slider",function(b,a){makeSlider(b)});slider=document.querySelector(".slider");window.onresize=function(){forEach(".slider",function(b,a){b.scrollLeft=0;moveIndex()})}});


var scrollTimer=null;var slider;function scrollslider(b){var a=b||window.event;slider=a.target||a.srcElement;clearTimeout(scrollTimer);scrollTimer=setTimeout(function(){slide(a,"snap")},50)}function move_index(){removeclass(slider.parentNode.querySelector(".slider-nav a.active"),"active");var a=Math.round(slider.scrollLeft/slider.offsetWidth)+1;addclass(slider.parentNode.querySelector(".slider-nav").childNodes[a-1],"active")}function slide_end(){slider.onscroll=scrollslider;removeclass(document.body,"disable-hover");move_index()}function slide(d,c){clearTimeout(scrollTimer);slider.onscroll=function(){return false};stopEvent(d);var b=d||window.event;el=b.target||b.srcElement;addclass(document.body,"disable-hover");if(c=="index"){slider=el.parentNode.parentNode.querySelector(".slider");start=slider.scrollLeft;change=(el.innerHTML-1)*slider.offsetWidth-start}if(c=="left"){slider=el.parentNode.querySelector(".slider");start=slider.scrollLeft;change=slider.scrollLeft-slider.offsetWidth-start}if(c=="right"){slider=el.parentNode.querySelector(".slider");start=slider.scrollLeft;change=slider.scrollLeft+slider.offsetWidth-start}if(c=="snap"){start=slider.scrollLeft;change=Math.round(slider.scrollLeft/slider.offsetWidth)*slider.offsetWidth-start}currentTime=0,increment=20;duration=400;var a=function(){currentTime+=increment;var e=Math.easeInOutQuad(currentTime,start,change,duration);slider.scrollLeft=e;if(currentTime<duration){requestAnimFrame(a)}else{if(slide_end&&typeof(slide_end)==="function"){slide_end()}}};a()}addEventHandler(window,"load",function(){document.onkeyup=function(b){slider=document.querySelector(".slider");var a=b||window.event;if(a.keyCode==37){slide(b,"left")}if(a.keyCode==39){slide(b,"right")}};forEachElement(".slider",function(b,a){if(!a){slider=b}b.insertAdjacentHTML("beforebegin",'<div class="slider-container"></div>');container=b.previousSibling;container.insertAdjacentHTML("afterbegin",'<a class="slider-arrow left">←</a>'+b.outerHTML+'<a class="slider-arrow right">→</a><div class="slider-nav"></div>');container.nextSibling.outerHTML="";b=container.querySelector(".slider");for(var a=0;a<b.children.length;a++){container.querySelector(".slider-nav").insertAdjacentHTML("beforeend",(!a?'<a class="active">':"<a>")+(a+1)+"</a>");container.querySelector(".slider-nav").lastChild.onclick=function(d){slide(d,"index")}}container.querySelector(".slider-arrow.left").onclick=function(d){slide(d,"left")};container.querySelector(".slider-arrow.right").onclick=function(d){slide(d,"right")};b.onscroll=scrollslider;b.style.overflowX="hidden";var c=b.offsetHeight;b.style.overflowX="scroll";c=b.offsetHeight-c;container.style.height=(container.offsetHeight-c)+"px"})});